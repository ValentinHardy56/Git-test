v<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dragon Géométrique</title>
<style>
  /* Reset minimal */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    background: #000;
    overflow: hidden;
    cursor: none; /* Masquer le curseur par défaut */
  }

  /* Style du dragon */
  .dragon-container {
    position: fixed;
    pointer-events: none;
  }

  /* Particules de traînée */
  .particle {
    position: absolute;
    pointer-events: none;
  }
  
  .particle-circle {
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, rgba(255,215,0,0) 70%);
  }
  
  .particle-triangle {
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 0 5px 10px 5px;
    border-color: transparent transparent gold transparent;
  }
</style>
</head>
<body>
<script>
  // Variables globales
  let mouseX = window.innerWidth / 2;
  let mouseY = window.innerHeight / 2;
  let particles = [];
  let lastParticleTime = 0;
  
  // Créer le dragon
  class Dragon {
    constructor() {
      // Créer l'élément principal
      this.container = document.createElement('div');
      this.container.className = 'dragon-container';
      
      // Position initiale
      this.x = window.innerWidth / 2;
      this.y = window.innerHeight / 2;
      this.rotation = 0;
      this.speed = 0.05; // Vitesse de suivi
      
      // Créer l'image du dragon
      this.createDragon();
      
      // Ajouter au document
      document.body.appendChild(this.container);
      
      // Animation des écailles
      this.scaleTime = 0;
    }
    
    createDragon() {
      // Utiliser une image SVG complète du dragon géométrique avec intérieurs noirs
      const svgCode = `
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 500" width="1000" height="500">
        <defs>
          <filter id="glow">
            <feGaussianBlur stdDeviation="3" result="blur" />
            <feComposite in="SourceGraphic" in2="blur" operator="over" />
          </filter>
        </defs>
        
        <!-- Corps principal du dragon (ligne de base) -->
        <path d="M200,250 C250,230 300,250 350,230 C400,210 450,230 500,250 C550,270 600,250 650,230 C700,210 750,230 800,250" 
              stroke="gold" stroke-width="3" fill="none" filter="url(#glow)" />
        
        <!-- Écailles géométriques sur le corps (intérieur noir, bordure dorée) -->
        <g class="scales-top">
          <!-- Première rangée d'écailles (haut) avec rotations variées -->
          <polygon points="200,240 220,210 240,240" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="240,230 260,200 280,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 260, 215)" />
          <polygon points="280,220 300,190 320,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-5, 300, 205)" />
          <polygon points="320,230 340,200 360,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(8, 340, 215)" />
          <polygon points="360,220 380,190 400,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-8, 380, 205)" />
          <polygon points="400,210 420,180 440,210" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(6, 420, 195)" />
          <polygon points="440,220 460,190 480,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-6, 460, 205)" />
          <polygon points="480,240 500,210 520,240" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(4, 500, 225)" />
          <polygon points="520,260 540,230 560,260" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-4, 540, 245)" />
          <polygon points="560,250 580,220 600,250" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(7, 580, 235)" />
          <polygon points="600,240 620,210 640,240" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-7, 620, 225)" />
          <polygon points="640,230 660,200 680,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 660, 215)" />
          <polygon points="680,220 700,190 720,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-5, 700, 205)" />
          <polygon points="720,230 740,200 760,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(3, 740, 215)" />
          <polygon points="760,240 780,210 800,240" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-3, 780, 225)" />
        </g>
        
        <!-- Formes géométriques complémentaires (losanges, hexagones, etc.) -->
        <g class="geometric-details">
          <polygon points="220,250 230,240 240,250 230,260" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="260,240 270,230 280,240 270,250" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="300,230 310,220 320,230 310,240" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="340,240 350,230 360,240 350,250" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="380,230 390,220 400,230 390,240" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="420,220 430,210 440,220 430,230" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="460,230 470,220 480,230 470,240" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="500,250 510,240 520,250 510,260" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="540,260 550,250 560,260 550,270" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="580,250 590,240 600,250 590,260" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="620,240 630,230 640,240 630,250" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="660,230 670,220 680,230 670,240" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="700,220 710,210 720,220 710,230" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="740,230 750,220 760,230 750,240" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="780,240 790,230 800,240 790,250" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
        </g>
        
        <g class="scales-bottom">
          <!-- Deuxième rangée d'écailles (bas) avec différentes formes -->
          <polygon points="220,260 240,290 260,260" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-3, 240, 275)" />
          <polygon points="260,270 280,300 300,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(3, 280, 285)" />
          <polygon points="300,280 320,310 340,280" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-5, 320, 295)" />
          <polygon points="340,270 360,300 380,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 360, 285)" />
          <polygon points="380,260 400,290 420,260" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-7, 400, 275)" />
          <polygon points="420,270 440,300 460,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(7, 440, 285)" />
          <polygon points="460,280 480,310 500,280" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-4, 480, 295)" />
          <polygon points="500,270 520,300 540,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(4, 520, 285)" />
          <polygon points="540,260 560,290 580,260" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-6, 560, 275)" />
          <polygon points="580,270 600,300 620,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(6, 600, 285)" />
          <polygon points="620,280 640,310 660,280" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-3, 640, 295)" />
          <polygon points="660,270 680,300 700,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(3, 680, 285)" />
          <polygon points="700,260 720,290 740,260" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-5, 720, 275)" />
          <polygon points="740,270 760,300 780,270" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 760, 285)" />
        </g>
        
        <!-- Formes hexagonales intercalées -->
        <g class="hexagons">
          <polygon points="250,245 260,235 275,235 285,245 275,255 260,255" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="330,235 340,225 355,225 365,235 355,245 340,245" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="410,225 420,215 435,215 445,225 435,235 420,235" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="490,245 500,235 515,235 525,245 515,255 500,255" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="570,255 580,245 595,245 605,255 595,265 580,265" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="650,235 660,225 675,225 685,235 675,245 660,245" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="730,225 740,215 755,215 765,225 755,235 740,235" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
        </g>
        
        <!-- Tête géométrique (intérieur noir, bordure dorée) -->
        <g transform="translate(150, 250) rotate(-10)">
          <!-- Base de la tête (triangles imbriqués) -->
          <polygon points="0,0 -40,-40 -30,-80 20,-70 50,-30" fill="#000" stroke="gold" stroke-width="2.5" filter="url(#glow)" />
          
          <!-- Détails géométriques internes de la tête -->
          <polygon points="-10,-40 10,-60 30,-40 10,-20" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="-20,-20 -10,-40 10,-20 0,0" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          
          <!-- Mâchoire (triangles) -->
          <polygon points="0,0 -30,20 -50,10 -40,-10" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          
          <!-- Cornes (triangles) -->
          <polygon points="-10,-60 -20,-90 0,-80" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="10,-60 0,-90 20,-80" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          
          <!-- Yeux (cercles géométriques) -->
          <circle cx="0" cy="-40" r="10" fill="rgba(255,0,0,0.7)" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <circle cx="0" cy="-40" r="5" fill="#000" class="pupil" stroke="gold" stroke-width="1" />
          
          <!-- Moustaches (lignes) -->
          <line x1="-30" y1="-20" x2="-70" y2="-30" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <line x1="-30" y1="-10" x2="-70" y2="0" stroke="gold" stroke-width="2" filter="url(#glow)" />
          
          <!-- Détails géométriques -->
          <polygon points="-20,-50 -10,-55 0,-50" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="0,-50 10,-55 20,-50" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
        </g>
        
        <!-- Queue géométrique (segments avec différentes orientations) -->
        <g class="tail">
          <polygon points="800,250 830,230 850,260 820,280" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="830,230 860,210 880,240 850,260" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 855, 235)" />
          <polygon points="860,210 890,190 910,220 880,240" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(10, 885, 215)" />
          <polygon points="890,190 920,180 930,210 910,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(15, 910, 195)" />
          
          <!-- Détails géométriques de la queue -->
          <polygon points="840,250 850,240 860,250 850,260" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="870,230 880,220 890,230 880,240" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="900,210 910,200 920,210 910,220" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
        </g>
        
        <!-- Pattes avant (formes géométriques) -->
        <g transform="translate(300, 250)">
          <polygon points="0,0 -20,30 0,50 20,30" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="0,50 -10,70 0,80 10,70" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <!-- Griffes (triangles) -->
          <polygon points="-10,70 -15,85 -5,75" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="0,80 0,95 10,85" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="10,70 15,85 5,75" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          
          <!-- Détails internes des pattes -->
          <polygon points="-5,15 0,30 5,15" fill="#000" stroke="gold" stroke-width="1" filter="url(#glow)" />
        </g>
        
        <!-- Pattes arrière (formes géométriques) -->
        <g transform="translate(700, 250)">
          <polygon points="0,0 -20,30 0,50 20,30" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="0,50 -10,70 0,80 10,70" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <!-- Griffes (triangles) -->
          <polygon points="-10,70 -15,85 -5,75" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="0,80 0,95 10,85" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <polygon points="10,70 15,85 5,75" fill="#000" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          
          <!-- Détails internes des pattes -->
          <polygon points="-5,15 0,30 5,15" fill="#000" stroke="gold" stroke-width="1" filter="url(#glow)" />
        </g>
        
        <!-- Ailes géométriques (structure en treillis) -->
        <g class="wing-left" transform="translate(400, 250)">
          <polygon points="0,0 -50,-80 -20,-100 20,-90 40,-50" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="-50,-80 -70,-100 -40,-110 -20,-100" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          
          <!-- Structure interne de l'aile -->
          <line x1="0" y1="0" x2="-50" y2="-80" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="0" y1="0" x2="-20" y2="-100" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="0" y1="0" x2="20" y2="-90" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="-50" y1="-80" x2="-20" y2="-100" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="-20" y1="-100" x2="20" y2="-90" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          
          <!-- Détails géométriques de l'aile -->
          <polygon points="-30,-40 -20,-60 -10,-40" fill="#000" stroke="gold" stroke-width="1" filter="url(#glow)" />
          <polygon points="-10,-60 0,-80 10,-60" fill="#000" stroke="gold" stroke-width="1" filter="url(#glow)" />
        </g>
        
        <g class="wing-right" transform="translate(600, 250)">
          <polygon points="0,0 50,-80 20,-100 -20,-90 -40,-50" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          <polygon points="50,-80 70,-100 40,-110 20,-100" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" />
          
          <!-- Structure interne de l'aile -->
          <line x1="0" y1="0" x2="50" y2="-80" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="0" y1="0" x2="20" y2="-100" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="0" y1="0" x2="-20" y2="-90" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="50" y1="-80" x2="20" y2="-100" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          <line x1="20" y1="-100" x2="-20" y2="-90" stroke="gold" stroke-width="1.5" filter="url(#glow)" />
          
          <!-- Détails géométriques de l'aile -->
          <polygon points="30,-40 20,-60 10,-40" fill="#000" stroke="gold" stroke-width="1" filter="url(#glow)" />
          <polygon points="10,-60 0,-80 -10,-60" fill="#000" stroke="gold" stroke-width="1" filter="url(#glow)" />
        </g>
        
        <!-- Crête dorsale (triangles orientés différemment) -->
        <g class="crest">
          <polygon points="250,230 260,200 270,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-5, 260, 215)" />
          <polygon points="300,220 310,190 320,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 310, 205)" />
          <polygon points="350,210 360,180 370,210" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-8, 360, 195)" />
          <polygon points="400,210 410,180 420,210" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(8, 410, 195)" />
          <polygon points="450,220 460,190 470,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-5, 460, 205)" />
          <polygon points="500,230 510,200 520,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(5, 510, 215)" />
          <polygon points="550,240 560,210 570,240" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-3, 560, 225)" />
          <polygon points="600,230 610,200 620,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(3, 610, 215)" />
          <polygon points="650,220 660,190 670,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-6, 660, 205)" />
          <polygon points="700,220 710,190 720,220" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(6, 710, 205)" />
          <polygon points="750,230 760,200 770,230" fill="#000" stroke="gold" stroke-width="2" filter="url(#glow)" transform="rotate(-4, 760, 215)" />
        </g>
      </svg>
      `;
      
      // Ajouter le SVG au conteneur
      this.container.innerHTML = svgCode;
      
      // Référence à la pupille pour l'animation
      this.pupil = this.container.querySelector('.pupil');
      
      // Référence aux écailles pour l'animation
      this.scalesTop = this.container.querySelector('.scales-top');
      this.scalesBottom = this.container.querySelector('.scales-bottom');
      this.crest = this.container.querySelector('.crest');
      this.tail = this.container.querySelector('.tail');
      this.wingLeft = this.container.querySelector('.wing-left');
      this.wingRight = this.container.querySelector('.wing-right');
      this.hexagons = this.container.querySelector('.hexagons');
      this.geometricDetails = this.container.querySelector('.geometric-details');
    }
    
    update() {
      // Calculer la nouvelle position avec un effet de lissage
      this.x += (mouseX - this.x) * this.speed;
      this.y += (mouseY - this.y) * this.speed;
      
      // Calculer la rotation en fonction de la direction
      const dx = mouseX - this.x;
      const dy = mouseY - this.y;
      const targetRotation = Math.atan2(dy, dx) * (180 / Math.PI);
      
      // Lisser la rotation
      const rotDiff = targetRotation - this.rotation;
      let rotChange = rotDiff;
      
      // Normaliser la différence d'angle pour éviter les rotations de plus de 180 degrés
      if (rotDiff > 180) rotChange -= 360;
      if (rotDiff < -180) rotChange += 360;
      
      this.rotation += rotChange * 0.1;
      
      // Mettre à jour la position et la rotation de l'élément
      this.container.style.transform = `translate(${this.x - 500}px, ${this.y - 250}px) rotate(${this.rotation}deg)`;
      
      // Mettre à jour la pupille pour qu'elle regarde vers la souris
      if (this.pupil) {
        const eyeAngle = Math.atan2(mouseY - this.y, mouseX - this.x);
        const eyeDistance = 3;
        
        const pupilX = Math.cos(eyeAngle) * eyeDistance;
        const pupilY = Math.sin(eyeAngle) * eyeDistance;
        
        this.pupil.setAttribute('cx', pupilX);
        this.pupil.setAttribute('cy', -40 + pupilY);
      }
      
      // Animation des écailles et autres éléments
      this.scaleTime += 0.05;
      
      // Animation des écailles du haut
      if (this.scalesTop) {
        const scaleY = Math.sin(this.scaleTime) * 3;
        this.scalesTop.setAttribute('transform', `translate(0, ${scaleY})`);
      }
      
      // Animation des écailles du bas
      if (this.scalesBottom) {
        const scaleY = Math.sin(this.scaleTime + 1) * 3;
        this.scalesBottom.setAttribute('transform', `translate(0, ${scaleY})`);
      }
      
      // Animation des hexagones
      if (this.hexagons) {
        const hexScale = 1 + Math.sin(this.scaleTime * 1.5) * 0.05;
        this.hexagons.setAttribute('transform', `scale(${hexScale})`);
      }
      
      // Animation des détails géométriques
      if (this.geometricDetails) {
        const detailsRotate = Math.sin(this.scaleTime * 0.8) * 2;
        this.geometricDetails.setAttribute('transform', `rotate(${detailsRotate}, 500, 250)`);
      }
      
      // Animation de la crête
      if (this.crest) {
        const crestScale = 1 + Math.sin(this.scaleTime * 2) * 0.1;
        this.crest.setAttribute('transform', `scale(1, ${crestScale})`);
      }
      
      // Animation de la queue
      if (this.tail) {
        const tailAngle = Math.sin(this.scaleTime) * 10;
        this.tail.setAttribute('transform', `rotate(${tailAngle}, 800, 250)`);
      }
      
      // Animation des ailes
      if (this.wingLeft && this.wingRight) {
        const wingAngle = Math.sin(this.scaleTime * 0.5) * 8;
        this.wingLeft.setAttribute('transform', `translate(400, 250) rotate(${wingAngle}, 0, 0)`);
        this.wingRight.setAttribute('transform', `translate(600, 250) rotate(${-wingAngle}, 0, 0)`);
      }
      
      // Créer des particules de traînée
      const now = Date.now();
      if (now - lastParticleTime > 20 && Math.hypot(dx, dy) > 3) {
        lastParticleTime = now;
        // Créer plusieurs particules pour un effet plus dense
        for (let i = 0; i < 3; i++) {
          const offsetX = Math.random() * 800 - 200;
          const offsetY = Math.random() * 100 - 50;
          createParticle(this.x + offsetX, this.y + offsetY);
        }
      }
    }
  }
  
  // Créer une particule de traînée
  function createParticle(x, y) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    document.body.appendChild(particle);
    
    // Déterminer le type de particule (triangle ou cercle)
    const isTriangle = Math.random() > 0.6;
    
    if (isTriangle) {
      particle.classList.add('particle-triangle');
      // Rotation aléatoire pour les triangles
      particle.style.transform = `rotate(${Math.random() * 360}deg)`;
      
      // Taille aléatoire pour les triangles
      const size = 5 + Math.random() * 10;
      particle.style.borderWidth = `0 ${size/2}px ${size}px ${size/2}px`;
      
      // Couleur dorée pour les bordures
      particle.style.borderColor = 'transparent transparent gold transparent';
    } else {
      particle.classList.add('particle-circle');
      
      // Taille aléatoire pour les cercles
      const size = 4 + Math.random() * 10;
      particle.style.width = size + 'px';
      particle.style.height = size + 'px';
      
      // Couleur aléatoire entre or et rouge
      const hue = 30 + Math.random() * 30; // Entre jaune doré et orange
      particle.style.background = `radial-gradient(circle, hsla(${hue}, 100%, 65%, 0.3) 0%, hsla(${hue}, 100%, 50%, 0) 70%)`;
    }
    
    // Position initiale
    particle.style.left = x + 'px';
    particle.style.top = y + 'px';
    
    // Ajouter à la liste des particules
    particles.push({
      element: particle,
      life: 1.0,
      x: x,
      y: y,
      vx: -1 + Math.random() * 2,
      vy: -1 + Math.random() * 2,
      isTriangle: isTriangle,
      rotationSpeed: Math.random() * 5 - 2.5
    });
    
    // Limiter le nombre de particules
    if (particles.length > 150) {
      document.body.removeChild(particles[0].element);
      particles.shift();
    }
  }
  
  // Mettre à jour les particules
  function updateParticles() {
    for (let i = particles.length - 1; i >= 0; i--) {
      const p = particles[i];
      p.life -= 0.02;
      
      if (p.life <= 0) {
        document.body.removeChild(p.element);
        particles.splice(i, 1);
        continue;
      }
      
      p.x += p.vx;
      p.y += p.vy;
      p.element.style.left = p.x + 'px';
      p.element.style.top = p.y + 'px';
      p.element.style.opacity = p.life;
      
      // Effet de rotation pour les triangles
      if (p.isTriangle) {
        const currentRotation = p.element.style.transform.match(/rotate\(([^)]+)\)/) || ['', '0deg'];
        const currentAngle = parseFloat(currentRotation[1]) || 0;
        const newAngle = currentAngle + p.rotationSpeed;
        p.element.style.transform = `rotate(${newAngle}deg)`;
      } else {
        // Effet de pulsation pour les cercles
        const scale = 0.8 + Math.sin(Date.now() * 0.01 + i) * 0.2;
        p.element.style.transform = `scale(${scale})`;
      }
    }
  }
  
  // Créer le dragon
  const dragon = new Dragon();
  
  // Boucle d'animation
  function animate() {
    dragon.update();
    updateParticles();
    requestAnimationFrame(animate);
  }
  
  // Gestionnaires d'événements
  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });
  
  // Pour les appareils tactiles
  document.addEventListener('touchmove', (e) => {
    e.preventDefault();
    mouseX = e.touches[0].clientX;
    mouseY = e.touches[0].clientY;
  });
  
  // Démarrer l'animation
  animate();
</script>
</body>
</html>